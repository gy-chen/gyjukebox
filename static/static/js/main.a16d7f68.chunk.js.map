{"version":3,"sources":["SearchList/SearchList.module.css","Login/Login.module.css","SearchBar/SearchBar.module.css","Tabs/Tabs.module.css","CurrentTrack/CurrentTrack.module.css","App/App.module.css","AlbumListItem/AlbumListItem.module.css","PlaylistListItem/PlaylistListItem.module.css","TrackListItem/TrackListItem.module.css","LogoutButton/LogoutButton.module.css","Spinner/Spinner.module.css","HeaderBar/HeaderBar.module.css","PlayButton/PlayButton.module.css","FooterBar/FooterBar.module.css","AlbumColumItem/AlbumColumnItem.module.css","ArtistColumnItem/ArtistColumnItem.module.css","ArtistsColumnItem/ArtistsColumnItem.module.css","ArtistListItem/ArtistListItem.module.css","PlaylistColumnItem/PlaylistColumnItem.module.css","Lyrics/Lyrics.module.css","Login/index.js","Login/utils.js","SearchBar/index.js","Tabs/index.js","LogoutButton/index.js","HeaderBar/index.js","SearchList/index.js","CurrentTrack/index.js","PlayButton/index.js","FooterBar/index.js","AlbumColumItem/index.js","ArtistColumnItem/index.js","ArtistsColumnItem/index.js","AlbumListItem/index.js","ArtistListItem/index.js","PlaylistColumnItem/index.js","PlaylistListItem/index.js","TrackListItem/index.js","api.js","PollingCurrentTrack/index.js","Player/index.js","Spinner/index.js","Lyrics/index.js","App/index.js","serviceWorker.js","index.js"],"names":["module","exports","Login","props","_onLoginGoogleButtonClick","bind","_onLoginSpotifyButtonClick","onLoginCallback","this","token","URLSearchParams","window","location","search","get","localStorage","getItem","setItem","open","process","className","style","container","onClick","loginButton","googleLoginButton","spotifyLoginButton","React","Component","SearchBar","onSearchButtonClick","useState","q","setQ","_onSearchButtonClick","e","preventDefault","onSubmit","type","searchInput","value","onChange","target","searchButton","searchIcon","Tab","HOME","MY_PLAYLISTS","MY_ALBUMS","MY_ARTISTS","MY_TRACKS","LYRICS","SEARCH","Tabs","activeTab","_getItemClassName","tab","item","active","_onTabChangeButtonClick","onTabChangeButtonClick","LogoutButton","onLogoutButtonClick","exitIcon","HeaderBar","SearchList","_renderAlbums","_renderArtists","_renderPlaylists","_renderTracks","_isTrackInQueue","_isAlbumInQueue","_isPlaylistInQueue","albums","AlbumComponent","albumComponent","onViewAlbumButtonClick","onViewArtistButtonClick","onQueueAlbumButtonClick","length","Fragment","albumRowContainer","headerRowContainer","rowHeader","map","album","removeDefaultListItemStyle","rowContainer","inQueue","artists","ArtistComponent","artistComponent","key","artistRowContainer","artist","uri","playlists","PlaylistComponent","playlistComponent","onViewPlaylistButtonClick","onQueuePlaylistButtonClick","playlistRowContainer","playlist","track","inQueueTracks","includes","inQueueAlbums","inQueuePlaylists","tracks","TrackComponent","trackComponent","onQueueTrackButtonClick","trackRowContainer","removeDefaultListStyle","defaultProps","CurrentTrack","user","titleContainer","trackName","name","join","userContainer","PlayButton","onPlayButtonClick","FooterBar","displayPlayButton","currentTrack","_onPlayButtonClick","AlbumColumnItem","ArtistColumnItem","ArtistsColumnItem","reduce","arr","index","push","seperator","AlbumListItem","_onQueueAlbumButtonClick","queuedButton","queueButton","ArtistListItem","PlaylistColumnItem","PlaylistListItem","_onQueuePlaylistButtonClick","owner","display_name","TrackListItem","_onQueueTrackButtonClick","instance","axios","create","baseURL","a","async","offset","params","rv","data","enqueueTrack","post","id","enqueueAlbum","enqueuePlaylist","getCurrentTrack","getCurrentLyrics","getAlbumTracks","forEach","getArtistDetails","getPlaylistTracks","playlistTrack","getUserTop","getUserPlaylists","getUserAlbums","userAlbum","getUserArtists","after","getUserTracks","userTrack","PollingCurrentTrack","_poll","_pollingInterval","_previousCurrentTrack","setInterval","clearInterval","jukeboxApi","_","isEqual","onCurrentTrackChange","HLS_LOCATION","Player","_onMediaAttached","_onManifestParsed","_onError","_retryLoadResource","throttle","_audioRef","createRef","_hls","_mediaParsed","Hls","isSupported","attachMedia","current","on","Events","MEDIA_ATTACHED","src","addEventListener","prevProps","prevPlay","play","pause","destroy","loadSource","MANIFEST_PARSED","ERROR","onPlayerReady","fatal","console","log","startLoad","ref","PureComponent","Spinner","spinner","Lyrics","title","lyrics","isEmpty","_PlayerState","WAIT","READY","PLAY","_LoadingState","LOADING","DONE","App","_EMPTY_SEARCH_LIST_DATA","_INITIAL_STATE","login","isLogin","currentSearchListData","playerState","currentLyrics","loadingState","_wrapLoadingAction","_onPlayerReady","_onPopState","_pushState","_onCurrentTrackChange","_onLoginCallback","_onViewAlbumButtonClick","_onViewArtistButtonClick","_onViewPlaylistButtonClick","_refreshTabContent","_refreshUserTop","_refreshUserPlaylists","_refreshUserAlbums","_refreshUserArtists","_refreshUserTracks","_onLogoutButtonClick","_logout","_commonApiErrorHandle","_updateCurrentLyrics","_renderBody","state","onpopstate","prevState","action","setState","event","history","pushState","defaults","headers","common","replaceState","clear","err","ArtistLiteItem","headerBarContainer","bodyContainer","footerBarContainer","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"wGACAA,EAAOC,QAAU,CAAC,mBAAqB,uCAAuC,aAAe,iCAAiC,UAAY,8BAA8B,kBAAoB,sCAAsC,mBAAqB,uCAAuC,kBAAoB,sCAAsC,qBAAuB,yCAAyC,2BAA6B,+CAA+C,uBAAyB,6C,0BCA7fD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,YAAc,2BAA2B,kBAAoB,iCAAiC,mBAAqB,oC,iBCA1KD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,YAAc,+BAA+B,aAAe,gCAAgC,WAAa,gC,gBCApKD,EAAOC,QAAU,CAAC,UAAY,wBAAwB,KAAO,mBAAmB,OAAS,uB,gBCAzFD,EAAOC,QAAU,CAAC,UAAY,gCAAgC,eAAiB,qCAAqC,UAAY,gCAAgC,cAAgB,sC,gBCAhLD,EAAOC,QAAU,CAAC,UAAY,uBAAuB,mBAAqB,gCAAgC,cAAgB,2BAA2B,mBAAqB,kC,iBCA1KD,EAAOC,QAAU,CAAC,UAAY,iCAAiC,YAAc,iEAAiE,aAAe,oE,gBCA7JD,EAAOC,QAAU,CAAC,UAAY,oCAAoC,YAAc,oEAAoE,aAAe,uE,gBCAnKD,EAAOC,QAAU,CAAC,UAAY,iCAAiC,YAAc,iEAAiE,aAAe,oE,iBCA7JD,EAAOC,QAAU,CAAC,UAAY,gCAAgC,SAAW,iC,gBCAzED,EAAOC,QAAU,CAAC,UAAY,2BAA2B,QAAU,yBAAyB,KAAO,wB,4BCAnGD,EAAOC,QAAU,CAAC,UAAY,+B,kBCA9BD,EAAOC,QAAU,CAAC,UAAY,gC,gBCA9BD,EAAOC,QAAU,CAAC,UAAY,+B,gBCA9BD,EAAOC,QAAU,CAAC,KAAO,uD,gBCAzBD,EAAOC,QAAU,CAAC,KAAO,wD,gBCAzBD,EAAOC,QAAU,CAAC,UAAY,uC,gBCA9BD,EAAOC,QAAU,CAAC,UAAY,oC,gBCA9BD,EAAOC,QAAU,CAAC,KAAO,0D,iBCAzBD,EAAOC,QAAU,CAAC,UAAY,4B,wPC4DfC,E,YApDb,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAEDC,0BAA4B,EAAKA,0BAA0BC,KAA/B,gBACjC,EAAKC,2BAA6B,EAAKA,2BAA2BD,KAAhC,gBAJjB,E,iFASE,IACXE,EAAoBC,KAAKL,MAAzBI,gBAEFE,ECpBO,IAAIC,gBAAgBC,OAAOC,SAASC,QACrCC,IAAI,UDmBqBC,aAAaC,QAAQ,cACtDP,IACFM,aAAaE,QAAQ,aAAcR,GACnCF,GAAmBA,EAAgBE,M,kDAKrCE,OAAOO,KAxBcC,kFAwBS,W,mDAI9BR,OAAOO,KA3BeC,mFA2BS,W,+BAI/B,OACE,yBAAKC,UAAWC,IAAMC,WACpB,yCACA,4BACEC,QAASf,KAAKJ,0BACdgB,UAAS,UAAKC,IAAMG,YAAX,YAA0BH,IAAMI,oBAF3C,qBAMA,4BACEF,QAASf,KAAKF,2BACdc,UAAS,UAAKC,IAAMG,YAAX,YAA0BH,IAAMK,qBAF3C,2B,GAtCYC,IAAMC,W,iCE2BXC,EA9BG,SAAA1B,GAAU,IAClB2B,EAAwB3B,EAAxB2B,oBADiB,EAGPH,IAAMI,SAAS,IAHR,mBAGlBC,EAHkB,KAGfC,EAHe,KAKnBC,EAAuB,SAAAC,GAC3BA,EAAEC,iBAEFN,GAAuBA,EAAoBE,IAG7C,OACE,0BAAMZ,UAAWC,IAAMC,UAAWe,SAAUH,GAC1C,2BACEI,KAAK,OACLlB,UAAWC,IAAMkB,YACjBC,MAAOR,EACPS,SAAU,SAAAN,GAAC,OAAIF,EAAKE,EAAEO,OAAOF,UAE/B,4BAAQpB,UAAWC,IAAMsB,aAAcpB,QAASW,GAC9C,kBAAC,IAAD,CAAYd,UAAWC,IAAMuB,gB,iBCkDxBC,EAAM,CACjBC,KAAM,EACNC,aAAc,EACdC,UAAW,EACXC,WAAY,EACZC,UAAW,EACXC,OAAQ,EACRC,OAAQ,GAGKC,EAjFF,SAAAlD,GAAU,IACbmD,EAAcnD,EAAdmD,UAEFC,EAAoB,SAAAC,GACxB,OAAIA,IAAQF,EACJ,GAAN,OAAUjC,IAAMoC,KAAhB,YAAwBpC,IAAMqC,QAEzBrC,IAAMoC,MAGTE,EAA0B,SAAAH,GAAQ,IAC9BI,EAA2BzD,EAA3ByD,uBAERA,GAA0BA,EAAuBJ,IAGnD,OACE,yBAAKpC,UAAWC,IAAMC,WACpB,yBACEF,UAAWmC,EAAkBV,EAAIC,MACjCvB,QAAS,kBAAMoC,EAAwBd,EAAIC,QAF7C,QAMA,yBACE1B,UAAWmC,EAAkBV,EAAIE,cACjCxB,QAAS,kBAAMoC,EAAwBd,EAAIE,gBAF7C,gBAMA,yBACE3B,UAAWmC,EAAkBV,EAAIG,WACjCzB,QAAS,kBAAMoC,EAAwBd,EAAIG,aAF7C,aAMA,yBACE5B,UAAWmC,EAAkBV,EAAII,YACjC1B,QAAS,kBAAMoC,EAAwBd,EAAII,cAF7C,cAMA,yBACE7B,UAAWmC,EAAkBV,EAAIK,WACjC3B,QAAS,kBAAMoC,EAAwBd,EAAIK,aAF7C,aAMA,yBACE9B,UAAWmC,EAAkBV,EAAIM,QACjC5B,QAAS,kBAAMoC,EAAwBd,EAAIM,UAF7C,UAMCG,IAAcT,EAAIO,OACjB,yBACEhC,UAAWmC,EAAkBV,EAAIO,QACjC7B,QAAS,kBAAMoC,EAAwBd,EAAIO,UAF7C,UAME,O,yBC1CKS,EAlBM,SAAA1D,GAOnB,OACE,yBAAKiB,UAAWC,IAAMC,UAAWC,QAPN,WAAO,IAC1BuC,EAAwB3D,EAAxB2D,oBAERA,GAAuBA,MAKrB,kBAAC,IAAD,CAAU1C,UAAWC,IAAM0C,a,iBCoBlBC,EA3BG,SAAA7D,GAAU,IAExBmD,EAIEnD,EAJFmD,UACAxB,EAGE3B,EAHF2B,oBACA8B,EAEEzD,EAFFyD,uBACAE,EACE3D,EADF2D,oBAGF,OACE,yBAAK1C,UAAWC,IAAMC,WACpB,kBAAC,EAAD,CAAWQ,oBAAqBA,IAChC,kBAAC,EAAD,CACEwB,UAAWA,EACXM,uBAAwBA,IAE1B,kBAAC,EAAD,CAAcE,oBAAqBA,M,wBCjBnCG,E,YACJ,WAAY9D,GAAQ,IAAD,8BACjB,4CAAMA,KAED+D,cAAgB,EAAKA,cAAc7D,KAAnB,gBACrB,EAAK8D,eAAiB,EAAKA,eAAe9D,KAApB,gBACtB,EAAK+D,iBAAmB,EAAKA,iBAAiB/D,KAAtB,gBACxB,EAAKgE,cAAgB,EAAKA,cAAchE,KAAnB,gBACrB,EAAKiE,gBAAkB,EAAKA,gBAAgBjE,KAArB,gBACvB,EAAKkE,gBAAkB,EAAKA,gBAAgBlE,KAArB,gBACvB,EAAKmE,mBAAqB,EAAKA,mBAAmBnE,KAAxB,gBATT,E,6EAYF,IAAD,SAOVG,KAAKL,MALPsE,EAFY,EAEZA,OACgBC,EAHJ,EAGZC,eACAC,EAJY,EAIZA,uBACAC,EALY,EAKZA,wBACAC,EANY,EAMZA,wBAEF,OAAKJ,GAAmBD,GAA4B,IAAlBA,EAAOM,OAKvC,kBAAC,IAAMC,SAAP,KACE,wBACE5D,UAAS,UAAKC,IAAM4D,kBAAX,YAAgC5D,IAAM6D,qBAE/C,yBAAK9D,UAAWC,IAAM8D,WAAtB,SACA,yBAAK/D,UAAWC,IAAM8D,WAAtB,UACA,yBAAK/D,UAAWC,IAAM8D,WACpB,kBAAC,IAAD,QAGHV,EAAOW,KAAI,SAAAC,GAAK,OACf,wBACEjE,UAAS,UAAKC,IAAMiE,2BAAX,YAAyCjE,IAAMkE,eAExD,kBAACb,EAAD,CACEW,MAAOA,EACPT,uBAAwBA,EACxBC,wBAAyBA,EACzBC,wBAAyBA,EACzBU,QAAS,EAAKjB,gBAAgBc,UAvB/B,O,uCA+BO,IAAD,EAKX7E,KAAKL,MAHPsF,EAFa,EAEbA,QACiBC,EAHJ,EAGbC,gBACAd,EAJa,EAIbA,wBAEF,OAAKa,GAAoBD,GAA8B,IAAnBA,EAAQV,OAK1C,kBAAC,IAAMC,SAAP,KACE,wBACEY,IAAI,mBACJxE,UAAS,UAAKC,IAAM6D,mBAAX,YAAiC7D,IAAMwE,qBAEhD,yBAAKzE,UAAWC,IAAM8D,WAAtB,WAEDM,EAAQL,KAAI,SAAAU,GAAM,OACjB,wBACEF,IAAKE,EAAOC,IACZ3E,UAAS,UAAKC,IAAMiE,2BAAX,YAAyCjE,IAAMkE,eAExD,kBAACG,EAAD,CACEI,OAAQA,EACRjB,wBAAyBA,SAlB1B,O,yCA0BS,IAAD,SAMbrE,KAAKL,MAJP6F,EAFe,EAEfA,UACmBC,EAHJ,EAGfC,kBACAC,EAJe,EAIfA,0BACAC,EALe,EAKfA,2BAEF,OAAKH,GAAsBD,GAAkC,IAArBA,EAAUjB,OAKhD,kBAAC,IAAMC,SAAP,KACE,wBACEY,IAAI,qBACJxE,UAAS,UAAKC,IAAM6D,mBAAX,YAAiC7D,IAAMgF,uBAEhD,yBAAKjF,UAAWC,IAAM8D,WAAtB,YACA,yBAAK/D,UAAWC,IAAM8D,WAAtB,SACA,yBAAK/D,UAAWC,IAAM8D,WACpB,kBAAC,IAAD,QAGHa,EAAUZ,KAAI,SAAAkB,GAAQ,OACrB,wBACEV,IAAKU,EAASP,IACd3E,UAAS,UAAKC,IAAMiE,2BAAX,YAAyCjE,IAAMkE,eAExD,kBAACU,EAAD,CACEK,SAAUA,EACVH,0BAA2BA,EAC3BC,2BAA4BA,EAC5BZ,QAAS,EAAKhB,mBAAmB8B,UAxBlC,O,sCAgCKC,GAEd,OAD0B/F,KAAKL,MAAvBqG,cACapB,KAAI,SAAAmB,GAAK,OAAIA,EAAMR,OAAKU,SAASF,EAAMR,O,sCAG9CV,GAEd,OAD0B7E,KAAKL,MAAvBuG,cACatB,KAAI,SAAAC,GAAK,OAAIA,EAAMU,OAAKU,SAASpB,EAAMU,O,yCAG3CO,GAEjB,OAD6B9F,KAAKL,MAA1BwG,iBAELvB,KAAI,SAAAkB,GAAQ,OAAIA,EAASP,OACzBU,SAASH,EAASP,O,sCAGN,IAAD,SAOVvF,KAAKL,MALPyG,EAFY,EAEZA,OACgBC,EAHJ,EAGZC,eACAC,EAJY,EAIZA,wBACAnC,EALY,EAKZA,uBACAC,EANY,EAMZA,wBAEF,OAAKgC,GAAmBD,GAA4B,IAAlBA,EAAO7B,OAKvC,kBAAC,IAAMC,SAAP,KACE,wBACEY,IAAI,kBACJxE,UAAS,UAAKC,IAAM2F,kBAAX,YAAgC3F,IAAM6D,qBAE/C,yBAAK9D,UAAWC,IAAM8D,WAAtB,SACA,yBAAK/D,UAAWC,IAAM8D,WAAtB,UACA,yBAAK/D,UAAWC,IAAM8D,WAAtB,SACA,yBAAK/D,UAAWC,IAAM8D,WACpB,kBAAC,IAAD,QAGHyB,EAAOxB,KAAI,SAAAmB,GAAK,OACf,wBACEX,IAAKW,EAAMR,IACX3E,UAAS,UAAKC,IAAMiE,2BAAX,YAAyCjE,IAAMkE,eAExD,kBAACsB,EAAD,CACEN,MAAOA,EACPf,QAAS,EAAKlB,gBAAgBiC,GAC9BQ,wBAAyBA,EACzBnC,uBAAwBA,EACxBC,wBAAyBA,SA1B1B,O,+BAmCT,OACE,kBAAC,IAAMG,SAAP,KACE,wBAAI5D,UAAWC,IAAM4F,wBAAyBzG,KAAK0D,iBACnD,wBAAI9C,UAAWC,IAAM4F,wBAClBzG,KAAK2D,kBAER,wBAAI/C,UAAWC,IAAM4F,wBAClBzG,KAAK4D,oBAER,wBAAIhD,UAAWC,IAAM4F,wBAAyBzG,KAAK6D,sB,GApMlC1C,IAAMC,WA8N/BqC,EAAWiD,aAAe,CACxBV,cAAe,GACfE,cAAe,GACfC,iBAAkB,IAGL1C,Q,iCCxMAkD,EA3BM,SAAAhH,GAAU,IACrBoG,EAAgBpG,EAAhBoG,MAAOa,EAASjH,EAATiH,KAEf,OAAKb,EAKH,yBAAKnF,UAAWC,IAAMC,WACpB,yBAAKF,UAAWC,IAAMgG,gBACpB,0BAAMjG,UAAWC,IAAMiG,WAAYf,EAAMgB,MACzC,kBAAC,IAAD,MACA,8BAAOhB,EAAMd,QAAQL,KAAI,SAAAU,GAAM,OAAIA,EAAOyB,QAAMC,KAAK,QAEvD,yBAAKpG,UAAWC,IAAMoG,eACpB,kBAAC,IAAD,MACA,8BAAOL,EAAKG,QAZT,M,iBCQIG,EAdI,SAAAvH,GAAU,IACnBwH,EAAsBxH,EAAtBwH,kBAER,OACE,yBAAKvG,UAAWC,IAAMC,UAAWC,QAASoG,GAA1C,S,iBC+BWC,EAjCG,SAAAzH,GAAU,IAClB0H,EAAsB1H,EAAtB0H,kBACFC,EAAiB3H,EAAjB2H,aAENA,EAAeA,GAAgB,GAE/B,IAAMC,EAAqB,WAAO,IACxBJ,EAAsBxH,EAAtBwH,kBAERA,GAAqBA,KAUvB,OACE,yBAAKvG,UAAWC,IAAMC,WACpB,kBAAC,EAAD,CAAc8F,KAAMU,EAAaV,KAAMb,MAAOuB,EAAavB,QARxDsB,GAAsBC,EAAavB,MAGjC,kBAAC,EAAD,CAAYoB,kBAAmBI,IAF7B,O,iBCOEC,GAvBS,SAAA7H,GAAU,IACxBkF,EAAUlF,EAAVkF,MAQR,OACE,6BACE,0BAAMjE,UAAWC,IAAMoC,KAAMlC,QARD,WAAO,IAC7BqD,EAA2BzE,EAA3ByE,uBAERA,GAA0BA,EAAuBS,KAM5CA,EAAMkC,Q,oBCSAU,GArBU,SAAA9H,GAAU,IACzB2F,EAAW3F,EAAX2F,OAQR,OACE,0BAAM1E,UAAWC,KAAMoC,KAAMlC,QAPE,WAAO,IAC9BsD,EAA4B1E,EAA5B0E,wBAERA,GAA2BA,EAAwBiB,KAKhDA,EAAOyB,O,oBCmBCW,GA7BW,SAAA/H,GAAU,IAC1BsF,EAAYtF,EAAZsF,QAoBR,OAlBuB,WAAO,IACpBZ,EAA4B1E,EAA5B0E,wBAcR,OAZeY,EAAQ0C,QAAO,SAACC,EAAKtC,EAAQuC,GAU1C,OATAD,EAAIE,KACF,kBAAC,GAAD,CACExC,OAAQA,EACRjB,wBAAyBA,KAGzBwD,IAAU5C,EAAQV,OAAS,GAC7BqD,EAAIE,KAAK,0BAAMlH,UAAWC,KAAMkH,WAAvB,OAEJH,IACN,IAIEjE,I,sCC+BMqE,GAjDO,SAAArI,GAAU,IACtBkF,EAA2DlF,EAA3DkF,MAAOT,EAAoDzE,EAApDyE,uBAAwBC,EAA4B1E,EAA5B0E,wBAEjC4D,EAA2B,WAAO,IAC9B3D,EAA4B3E,EAA5B2E,wBAERA,GAA2BA,EAAwBO,IAgBrD,OACE,yBAAKjE,UAAWC,KAAMC,WACpB,6BACE,kBAAC,GAAD,CACE+D,MAAOA,EACPT,uBAAwBA,KAG5B,6BACE,kBAAC,GAAD,CACEa,QAASJ,EAAMI,QACfZ,wBAAyBA,KAG7B,6BA1BkB1E,EAAZqF,QAEC,kBAAC,KAAD,CAAWpE,UAAWC,KAAMqH,eAGnC,kBAAC,KAAD,CACEnH,QAASkH,EACTrH,UAAWC,KAAMsH,iB,oBCAVC,GApBQ,SAAAzI,GAAU,IACvB2F,EAAoC3F,EAApC2F,OAAQjB,EAA4B1E,EAA5B0E,wBAEhB,OACE,yBAAKzD,UAAWC,KAAMC,WACpB,6BACE,kBAAC,GAAD,CACEwE,OAAQA,EACRjB,wBAAyBA,O,oBCYpBgE,GArBY,SAAA1I,GAAU,IAC3BmG,EAAanG,EAAbmG,SAQR,OACE,0BAAMlF,UAAWC,KAAMoC,KAAMlC,QAPI,WAAO,IAChC4E,EAA8BhG,EAA9BgG,0BAERA,GAA6BA,EAA0BG,KAKpDA,EAASiB,O,oBCmCDuB,GA3CU,SAAA3I,GAAU,IACzBmG,EAAwCnG,EAAxCmG,SAAUH,EAA8BhG,EAA9BgG,0BAEZ4C,EAA8B,WAAO,IACjC3C,EAA+BjG,EAA/BiG,2BAERA,GAA8BA,EAA2BE,IAgB3D,OACE,yBAAKlF,UAAWC,KAAMC,WACpB,6BACE,kBAAC,GAAD,CACEgF,SAAUA,EACVH,0BAA2BA,KAG/B,6BAAMG,EAAS0C,MAAMC,cACrB,6BArBkB9I,EAAZqF,QAEC,kBAAC,KAAD,CAAWpE,UAAWC,KAAMqH,eAGnC,kBAAC,KAAD,CACEnH,QAASwH,EACT3H,UAAWC,KAAMsH,iB,oBCwCVO,GAxDO,SAAA/I,GAAU,IACtBoG,EAAmCpG,EAAnCoG,MAAO1B,EAA4B1E,EAA5B0E,wBAETsE,EAA2B,WAAO,IAC9BpC,EAA4B5G,EAA5B4G,wBAERA,GAA2BA,EAAwBR,IAsBrD,OACE,yBAAKnF,UAAWC,KAAMC,WACpB,6BAAMiF,EAAMgB,MACZ,6BACE,kBAAC,GAAD,CACE9B,QAASc,EAAMd,QACfZ,wBAAyBA,KAG7B,6BACE,kBAAC,GAAD,CACEQ,MAAOkB,EAAMlB,MACbT,uBA/BwB,WAAO,IAC7BA,EAA2BzE,EAA3ByE,uBAERA,GAA0BA,EAAuB2B,EAAMlB,WA+BrD,6BA3BkBlF,EAAZqF,QAEC,kBAAC,KAAD,CAAWpE,UAAWC,KAAMqH,eAGnC,kBAAC,KAAD,CACEnH,QAAS4H,EACT/H,UAAWC,KAAMsH,iB,6BC7BnBS,G,QAAWC,EAAMC,OAAO,CAC5BC,QAASpI,+BAQEN,GAAS,SAAOmB,GAAP,6BAAAwH,EAAAC,OAAA,uDAAUC,EAAV,+BAAmB,EAAnB,WAAAF,EAAA,MACHJ,GAAStI,IAAI,UAAW,CAAE6I,OAAQ,CAAE3H,IAAG0H,aADpC,cACdE,EADc,yBAEbA,EAAGC,MAFU,sCAKTC,GAAe,SAAAvD,GAAK,OAC/B6C,GAASW,KAAT,iBAAwBxD,EAAMyD,GAA9B,cAEWC,GAAe,SAAA5E,GAAK,OAC/B+D,GAASW,KAAT,iBAAwB1E,EAAM2E,GAA9B,cAEWE,GAAkB,SAAA5D,GAAQ,OACrC8C,GAASW,KAAT,oBAA2BzD,EAAS0D,GAApC,cAEWG,GAAkB,4BAAAX,EAAAC,OAAA,kEAAAD,EAAA,MACZJ,GAAStI,IAAI,mBADD,UACvB8I,EADuB,OAEvB9B,EAAe8B,EAAGC,KAFK,yCAIpB,CACLtD,MAAO,KACPa,KAAM,OANmB,gCAStBU,GATsB,sCAYlBsC,GAAmB,0BAAAZ,EAAAC,OAAA,kEAAAD,EAAA,MACbJ,GAAStI,IAAI,oBADA,cACxB8I,EADwB,yBAEvBA,EAAGC,MAFoB,sCAKnBQ,GAAiB,SAAOhF,GAAP,+BAAAmE,EAAAC,OAAA,uDAAcC,EAAd,+BAAuB,EAC7CC,EAAS,CAAED,UADW,WAAAF,EAAA,MAEXJ,GAAStI,IAAT,iBAAuBuE,EAAM2E,GAA7B,WAA0C,CAAEL,YAFjC,cAEtBC,EAFsB,QAGzBC,KAAKjD,OAAO0D,SAAQ,SAAA/D,GAAK,OAAKA,EAAMlB,MAAQA,KAHnB,kBAIrBuE,EAAGC,MAJkB,sCAOjBU,GAAmB,SAAOzE,GAAP,+BAAA0D,EAAAC,OAAA,uDAAeC,EAAf,+BAAwB,EAChDC,EAAS,CAAED,UADa,WAAAF,EAAA,MAEbJ,GAAStI,IAAT,kBAAwBgF,EAAOkE,GAA/B,YAA6C,CAAEL,YAFlC,cAExBC,EAFwB,yBAGvBA,EAAGC,MAHoB,sCAMnBW,GAAoB,SAAOlE,GAAP,+BAAAkD,EAAAC,OAAA,uDAAiBC,EAAjB,+BAA0B,EACnDC,EAAS,CAAED,UADc,WAAAF,EAAA,MAEdJ,GAAStI,IAAT,oBAA0BwF,EAAS0D,GAAnC,WAAgD,CAAEL,YAFpC,cAEzBC,EAFyB,QAG5BC,KAAKjD,OAASgD,EAAGC,KAAKjD,OAAOxB,KAAI,SAAAqF,GAAa,OAAIA,EAAclE,SAHpC,kBAIxBqD,EAAGC,MAJqB,sCAOpBa,GAAa,0CAAAlB,EAAAC,OAAA,uDAAOC,EAAP,+BAAgB,EAClCC,EAAS,CAAED,UADO,WAAAF,EAAA,MAEPJ,GAAStI,IAAI,UAAW,CAAE6I,YAFnB,cAElBC,EAFkB,yBAGjBA,EAAGC,MAHc,sCAMbc,GAAmB,0CAAAnB,EAAAC,OAAA,uDAAOC,EAAP,+BAAgB,EACxCC,EAAS,CAAED,UADa,WAAAF,EAAA,MAEbJ,GAAStI,IAAI,gBAAiB,CAAE6I,YAFnB,cAExBC,EAFwB,yBAGvBA,EAAGC,MAHoB,sCAMnBe,GAAgB,0CAAApB,EAAAC,OAAA,uDAAOC,EAAP,+BAAgB,EACrCC,EAAS,CAAED,UADU,WAAAF,EAAA,MAEVJ,GAAStI,IAAI,aAAc,CAAE6I,YAFnB,cAErBC,EAFqB,QAGxBC,KAAKpF,OAASmF,EAAGC,KAAKpF,OAAOW,KAAI,SAAAyF,GAAS,OAAIA,EAAUxF,SAHhC,kBAIpBuE,EAAGC,MAJiB,sCAOhBiB,GAAiB,0CAAAtB,EAAAC,OAAA,uDAAOsB,EAAP,+BAAe,KACrCpB,EAAS,CAAEoB,SADW,WAAAvB,EAAA,MAEXJ,GAAStI,IAAI,cAAe,CAAE6I,YAFnB,cAEtBC,EAFsB,yBAGrBA,EAAGC,MAHkB,sCAMjBmB,GAAgB,0CAAAxB,EAAAC,OAAA,uDAAOC,EAAP,+BAAgB,EACrCC,EAAS,CAAED,UADU,WAAAF,EAAA,MAEVJ,GAAStI,IAAI,aAAc,CAAE6I,YAFnB,cAErBC,EAFqB,QAGxBC,KAAKjD,OAASgD,EAAGC,KAAKjD,OAAOxB,KAAI,SAAA6F,GAAS,OAAIA,EAAU1E,SAHhC,kBAIpBqD,EAAGC,MAJiB,sCC7CdqB,G,YApCb,WAAY/K,GAAQ,IAAD,8BACjB,4CAAMA,KAEDgL,MAAQ,EAAKA,MAAM9K,KAAX,gBAEb,EAAK+K,iBAAmB,KACxB,EAAKC,sBAAwB,KANZ,E,iFAUjB7K,KAAK4K,iBAAmBE,YAAY9K,KAAK2K,MAAO,O,6CAIhDI,cAAc/K,KAAK4K,kBACnB5K,KAAK4K,iBAAmB,O,kIAIGI,M,OAArB1D,E,OACD2D,KAAEC,QAAQlL,KAAK6K,sBAAuBvD,MACjC6D,EAAyBnL,KAAKL,MAA9BwL,uBACgBA,EAAqB7D,GAC7CtH,KAAK6K,sBAAwBvD,G,gFAK/B,OAAO,S,GA7BuBnG,IAAMC,W,oBCAlCgK,GAAezK,+CAuFN0K,G,YApFb,WAAY1L,GAAQ,IAAD,8BACjB,4CAAMA,KAED2L,iBAAmB,EAAKA,iBAAiBzL,KAAtB,gBACxB,EAAK0L,kBAAoB,EAAKA,kBAAkB1L,KAAvB,gBACzB,EAAK2L,SAAW,EAAKA,SAAS3L,KAAd,gBAChB,EAAK4L,mBAAqBR,KAAES,SAC1B,EAAKD,mBAAmB5L,KAAxB,gBACA,KAGF,EAAK8L,UAAYxK,IAAMyK,YACvB,EAAKC,KAAO,KACZ,EAAKC,cAAe,EAbH,E,iFAiBbC,KAAIC,eACNhM,KAAK6L,KAAO,IAAIE,KAChB/L,KAAK6L,KAAKI,YAAYjM,KAAK2L,UAAUO,SACrClM,KAAK6L,KAAKM,GAAGJ,KAAIK,OAAOC,eAAgBrM,KAAKsL,oBAE7CtL,KAAK2L,UAAUO,QAAQI,IAAMlB,GAC7BpL,KAAK2L,UAAUO,QAAQK,iBACrB,iBACAvM,KAAKuL,sB,yCAKQiB,GAAY,IACrBC,EAAaD,EAAbC,SACFC,EAAO1M,KAAKL,MACd8M,IAAaC,IACXA,EACF1M,KAAK2L,UAAUO,QAAQQ,OAEvB1M,KAAK2L,UAAUO,QAAQS,W,6CAM3B3M,KAAK6L,MAAQ7L,KAAK6L,KAAKe,Y,yCAIvB5M,KAAK6L,KAAKgB,WAAWzB,IACrBpL,KAAK6L,KAAKM,GAAGJ,KAAIK,OAAOU,gBAAiB9M,KAAKuL,mBAC9CvL,KAAK6L,KAAKM,GAAGJ,KAAIK,OAAOW,MAAO/M,KAAKwL,Y,0CAGjB,IACXwB,EAAkBhN,KAAKL,MAAvBqN,cAERhN,KAAK8L,cAAe,EACpBkB,GAAiBA,M,+BAGV/B,EAAG5B,GACNA,EAAK4D,QACPC,QAAQC,IAAI,wCAAyC9D,GACjDrJ,KAAK8L,aACP9L,KAAK6L,KAAKuB,YAEVpN,KAAKyL,wB,2CAMTzL,KAAK6L,KAAKgB,WAAWzB,M,+BAIrB,OAAO,2BAAOiC,IAAKrN,KAAK2L,gB,GA5EPxK,IAAMmM,e,oBCIZC,GARC,WACd,OACE,yBAAK3M,UAAWC,KAAMC,WACpB,0BAAMF,UAAWC,KAAM2M,Y,wCCkBdC,GAnBA,SAAA9N,GAAU,IACf+N,EAA0B/N,EAA1B+N,MAAOpI,EAAmB3F,EAAnB2F,OAAQqI,EAAWhO,EAAXgO,OACvB,OAAI1C,KAAE2C,QAAQD,GACL,KAGP,yBAAK/M,UAAWC,KAAMC,WACpB,sCAAQ4M,EAAR,cAAmBpI,IACnB,6BAAMqI,KCKNE,GAAe,CACnBC,KAAM,EACNC,MAAO,EACPC,KAAM,GAGFC,GAAgB,CACpBC,QAAS,EACTC,KAAM,GAseOC,G,YA3cb,WAAYzO,GAAQ,IAAD,8BACjB,4CAAMA,KAxBR0O,wBAA0B,CACxBpK,OAAQ,KACRgB,QAAS,KACTO,UAAW,KACXY,OAAQ,MAmBS,EAhBnBkI,eAAiB,CACfC,MAAO,CACLC,SAAS,EACTvO,MAAO,MAET+F,cAAe,GACfE,cAAe,GACfC,iBAAkB,GAClBmB,aAAc,KACdmH,sBAAuB,EAAKJ,wBAC5BK,YAAab,GAAaC,KAC1Ba,cAAe,KACfC,aAAcX,GAAcE,KAC5BnL,IAAKX,EAAIC,MAMT,EAAKuM,mBAAqB,EAAKA,mBAAmBhP,KAAxB,gBAC1B,EAAK0H,mBAAqB,EAAKA,mBAAmB1H,KAAxB,gBAC1B,EAAKiP,eAAiB,EAAKA,eAAejP,KAApB,gBACtB,EAAKkP,YAAc,EAAKA,YAAYlP,KAAjB,gBACnB,EAAKmP,WAAa,EAAKA,WAAWnP,KAAhB,gBAClB,EAAKoP,sBAAwB,EAAKA,sBAAsBpP,KAA3B,gBAC7B,EAAKqP,iBAAmB,EAAKA,iBAAiBrP,KAAtB,gBACxB,EAAK8I,yBAA2B,EAAKA,yBAAyB9I,KAA9B,gBAChC,EAAKoI,yBAA2B,EAAKA,yBAAyBpI,KAA9B,gBAChC,EAAK0I,4BAA8B,EAAKA,4BAA4B1I,KAAjC,gBAGnC,EAAKsP,wBAA0B,EAAKN,mBAClC,EAAKM,wBAAwBtP,KAA7B,iBAEF,EAAKuP,yBAA2B,EAAKP,mBACnC,EAAKO,yBAAyBvP,KAA9B,iBAEF,EAAKwP,2BAA6B,EAAKR,mBACrC,EAAKQ,2BAA2BxP,KAAhC,iBAEF,EAAK6B,qBAAuB,EAAKmN,mBAC/B,EAAKnN,qBAAqB7B,KAA1B,iBAEF,EAAKyP,mBAAqB,EAAKA,mBAAmBzP,KAAxB,gBAC1B,EAAK0P,gBAAkB,EAAKV,mBAC1B,EAAKU,gBAAgB1P,KAArB,iBAEF,EAAK2P,sBAAwB,EAAKX,mBAChC,EAAKW,sBAAsB3P,KAA3B,iBAEF,EAAK4P,mBAAqB,EAAKZ,mBAC7B,EAAKY,mBAAmB5P,KAAxB,iBAEF,EAAK6P,oBAAsB,EAAKb,mBAC9B,EAAKa,oBAAoB7P,KAAzB,iBAEF,EAAK8P,mBAAqB,EAAKd,mBAC7B,EAAKc,mBAAmB9P,KAAxB,iBAEF,EAAKsD,wBAA0B,EAAKA,wBAAwBtD,KAA7B,gBAC/B,EAAK+P,qBAAuB,EAAKA,qBAAqB/P,KAA1B,gBAC5B,EAAKgQ,QAAU,EAAKA,QAAQhQ,KAAb,gBACf,EAAKiQ,sBAAwB,EAAKA,sBAAsBjQ,KAA3B,gBAC7B,EAAKkQ,qBAAuB,EAAKA,qBAAqBlQ,KAA1B,gBAC5B,EAAKmQ,YAAc,EAAKA,YAAYnQ,KAAjB,gBAEnB,EAAKoQ,MAAQ,EAAK3B,eAElBnO,OAAO+P,WAAa,EAAKnB,YApDR,E,gFAuDAvC,EAAW2D,GACHA,EAAjBnN,MACQhD,KAAKiQ,MAAbjN,KAENhD,KAAKsP,uB,yCAIUc,GAAS,IAAD,OAczB,OAbgB,oCAAApH,EAAAC,OAAA,uDACd,EAAKoH,SAAS,CACZzB,aAAcX,GAAcC,UAFhB,oBAAAlF,EAAA,MAKNoH,EAAM,WAAN,MALM,uBAOZ,EAAKC,SAAS,CACZzB,aAAcX,GAAcE,OARlB,yE,2CAiBQnO,KAAKiQ,MAArBvB,cACYb,GAAaE,OAGjC/N,KAAKqQ,SAAS,CACZ3B,YAAab,GAAaG,S,uCAKJhO,KAAKiQ,MAArBvB,cACYb,GAAaC,MAGjC9N,KAAKqQ,SAAS,CACZ3B,YAAab,GAAaE,U,kCAIlBuC,GACU,eAAhBA,EAAML,MAER9P,OAAOoQ,QAAQC,UAAU,aAAc,KAAM,KAE7CxQ,KAAKqQ,SAASC,EAAML,S,mCAIV,IAAD,EAC4BjQ,KAAKiQ,MAApCxB,EADG,EACHA,sBAAuBzL,EADpB,EACoBA,IAC/B7C,OAAOoQ,QAAQC,UAAU,CAAE/B,wBAAuBzL,OAAO,KAAM,O,4CAG3CsE,GACpBtH,KAAKqQ,SAAS,CACZ/I,iBAEFtH,KAAK+P,yB,uCAGU9P,GAAQ,IAAD,OACtBD,KAAKqQ,SACH,CACE9B,MAAO,CACLC,SAAS,EACTvO,WAGJ,YL9K+B,SAAAA,GAClC2I,GAAS6H,SAASC,QAAQC,OAA1B,+BAA8D1Q,GK8KzD+K,CAAiC/K,GACjCE,OAAOoQ,QAAQK,aAAa,EAAKvC,wBAAyB,KAAM,KAChE,EAAKiB,0B,+CAKoBvJ,G,qGAErBiF,GAAwBjF,I,OAC9B/F,KAAKqQ,UAAS,SAAAJ,GAAK,MAAK,CACtBjK,cAAc,GAAD,mBAAMiK,EAAMjK,eAAZ,CAA2BD,Q,+CAG1C/F,KAAK8P,sBAAL,M,wGAI2BjL,G,qGAErBmG,GAAwBnG,I,OAC9B7E,KAAKqQ,UAAS,SAAAJ,GAAK,MAAK,CACtB/J,cAAc,GAAD,mBAAM+J,EAAM/J,eAAZ,CAA2BrB,Q,+CAG1C7E,KAAK8P,sBAAL,M,2GAI8BhK,G,qGAExBkF,GAA2BlF,I,OACjC9F,KAAKqQ,UAAS,SAAAJ,GAAK,MAAK,CACtB9J,iBAAiB,GAAD,mBAAM8J,EAAM9J,kBAAZ,CAA8BL,Q,+CAGhD9F,KAAK8P,sBAAL,M,uGAI0BjL,G,6GAEDmG,GAA0BnG,I,gBAA3CuB,E,EAAAA,OACRpG,KAAKqQ,SACH,CACE5B,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnBjI,YAGJpG,KAAKgP,Y,gDAGPhP,KAAK8P,sBAAL,M,yGAI2BxK,G,+GAEM0F,GAA4B1F,I,gBAArDc,E,EAAAA,OAAQnC,E,EAAAA,OAChBjE,KAAKqQ,SACH,CACE5B,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnBjI,SACAnC,YAGJjE,KAAKgP,Y,gDAGPhP,KAAK8P,sBAAL,M,2GAI6BhK,G,6GAEJkF,GAA6BlF,I,gBAA9CM,E,EAAAA,OACRpG,KAAKqQ,SACH,CACE5B,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnBjI,YAGJpG,KAAKgP,Y,gDAGPhP,KAAK8P,sBAAL,M,qGAIuBtO,G,mHAE8BwJ,GAAkBxJ,I,gBAA/DyC,E,EAAAA,OAAQgB,E,EAAAA,QAASmB,E,EAAAA,OAAQZ,E,EAAAA,UACjCxF,KAAKqQ,SACH,CACErN,IAAKX,EAAIO,OACT6L,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnBpK,SACAgB,UACAO,YACAY,YAGJpG,KAAKgP,Y,kDAGPhP,KAAK8P,sBAAL,M,0MAK0B9E,M,OAAtB2D,E,OACN3O,KAAKqQ,SAAS,CACZ1B,kB,4FAMF,OADgB3O,KAAKiQ,MAAbjN,KAEN,KAAKX,EAAIC,KACPtC,KAAKuP,kBACL,MACF,KAAKlN,EAAIE,aACPvC,KAAKwP,wBACL,MACF,KAAKnN,EAAIG,UACPxC,KAAKyP,qBACL,MACF,KAAKpN,EAAII,WACPzC,KAAK0P,sBACL,MACF,KAAKrN,EAAIK,UACP1C,KAAK2P,wB,uJAS2B3E,M,gBAA1B/F,E,EAAAA,QAASmB,E,EAAAA,OACjBpG,KAAKqQ,SACH,CACE5B,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnBpJ,UACAmB,YAGJpG,KAAKgP,Y,gDAGPhP,KAAK8P,sBAAL,M,qNAM4B9E,M,gBAApBxF,E,EAAAA,UACRxF,KAAKqQ,SACH,CACE5B,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnB7I,eAGJxF,KAAKgP,Y,gDAGPhP,KAAK8P,sBAAL,M,kNAMyB9E,M,gBAAjB/G,E,EAAAA,OACRjE,KAAKqQ,SACH,CACE5B,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnBpK,YAGJjE,KAAKgP,Y,gDAGPhP,KAAK8P,sBAAL,M,mNAM0B9E,M,gBAAlB/F,E,EAAAA,QACRjF,KAAKqQ,SACH,CACE5B,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnBpJ,aAGJjF,KAAKgP,Y,gDAGPhP,KAAK8P,sBAAL,M,kNAMyB9E,M,gBAAjB5E,E,EAAAA,OACRpG,KAAKqQ,SACH,CACE5B,sBAAsB,eACjBzO,KAAKqO,wBADW,CAEnBjI,YAGJpG,KAAKgP,Y,gDAGPhP,KAAK8P,sBAAL,M,wGAIoB9M,GACtBhD,KAAKqQ,SAAS,CACZrN,U,gCtBxZJzC,aAAasQ,QsB8ZX7Q,KAAKqQ,SAASrQ,KAAKsO,gBACnBnO,OAAOoQ,QAAQC,UAAU,aAAc,KAAM,O,6CAI7CxQ,KAAK6P,Y,4CAGeiB,GAEpB9Q,KAAK6P,Y,oCAKL,GADgB7P,KAAKiQ,MAAbjN,MACIX,EAAIM,OAAQ,CAAC,IACfgM,EAAkB3O,KAAKiQ,MAAvBtB,cACR,OAAKA,EAGE,kBAAC,GAAWA,GAFV,KALC,MAgBR3O,KAAKiQ,MALPjK,EAXU,EAWVA,cACAE,EAZU,EAYVA,cACAC,EAbU,EAaVA,iBACAsI,EAdU,EAcVA,sBAIF,OAlBY,EAeVG,eAGmBX,GAAcC,QAC1B,kBAAC,GAAD,MAIP,kBAAC,EAAD,iBACMO,EADN,CAEEzI,cAAeA,EACfE,cAAeA,EACfC,iBAAkBA,EAClBhC,eAAgB6D,GAChB7C,gBAAiB4L,GACjBrL,kBAAmB4C,GACnBhC,eAAgBoC,GAChBnC,wBAAyBvG,KAAK2I,yBAC9BrE,wBAAyBtE,KAAKiI,yBAC9BrC,2BAA4B5F,KAAKuI,4BACjCnE,uBAAwBpE,KAAKmP,wBAC7B9K,wBAAyBrE,KAAKoP,yBAC9BzJ,0BAA2B3F,KAAKqP,gC,+BAOpC,IADkBrP,KAAKiQ,MAAf1B,MACGC,QACT,OAAO,kBAAC,EAAD,CAAOzO,gBAAiBC,KAAKkP,mBAH/B,MAMoClP,KAAKiQ,MAAxCjN,EAND,EAMCA,IAAKsE,EANN,EAMMA,aAAcoH,EANpB,EAMoBA,YAC3B,OACE,yBAAK9N,UAAWC,KAAMC,WACpB,yBAAKF,UAAWC,KAAMmQ,oBACpB,kBAAC,EAAD,CACElO,UAAWE,EACX1B,oBAAqBtB,KAAK0B,qBAC1B0B,uBAAwBpD,KAAKmD,wBAC7BG,oBAAqBtD,KAAK4P,wBAG9B,yBAAKhP,UAAWC,KAAMoQ,eAAgBjR,KAAKgQ,eAC3C,yBAAKpP,UAAWC,KAAMqQ,oBACpB,kBAAC,EAAD,CACE5J,aAAcA,EACdD,kBAAmBqH,IAAgBb,GAAaE,MAChD5G,kBAAmBnH,KAAKuH,sBAG5B,kBAAC,GAAD,CACE4D,qBAAsBnL,KAAKiP,wBAE7B,kBAAC,GAAD,CACEjC,cAAehN,KAAK8O,eACpBpC,KAAMgC,IAAgBb,GAAaG,Y,GA5d3B7M,IAAMC,WCjBJ+P,QACW,cAA7BhR,OAAOC,SAASgR,UAEe,UAA7BjR,OAAOC,SAASgR,UAEhBjR,OAAOC,SAASgR,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.a16d7f68.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerRowContainer\":\"SearchList_headerRowContainer__27NaD\",\"rowContainer\":\"SearchList_rowContainer__1Ed_j\",\"rowHeader\":\"SearchList_rowHeader__2B7vq\",\"albumRowContainer\":\"SearchList_albumRowContainer__lkJqm\",\"artistRowContainer\":\"SearchList_artistRowContainer__16kJT\",\"trackRowContainer\":\"SearchList_trackRowContainer__yQ_-R\",\"playlistRowContainer\":\"SearchList_playlistRowContainer__3KWy0\",\"removeDefaultListItemStyle\":\"SearchList_removeDefaultListItemStyle__1G_fk\",\"removeDefaultListStyle\":\"SearchList_removeDefaultListStyle__2aqII\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__27oOZ\",\"loginButton\":\"Login_loginButton__3JQWQ\",\"googleLoginButton\":\"Login_googleLoginButton__1P3JC\",\"spotifyLoginButton\":\"Login_spotifyLoginButton__1HTjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchBar_container__mRTEy\",\"searchInput\":\"SearchBar_searchInput__15KuH\",\"searchButton\":\"SearchBar_searchButton__1x_vH\",\"searchIcon\":\"SearchBar_searchIcon__22R76\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Tabs_container__3sqD1\",\"item\":\"Tabs_item__mgt_V\",\"active\":\"Tabs_active__307tB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CurrentTrack_container__2tP24\",\"titleContainer\":\"CurrentTrack_titleContainer__1OyeW\",\"trackName\":\"CurrentTrack_trackName__2-W8x\",\"userContainer\":\"CurrentTrack_userContainer__3l_it\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3iLfG\",\"headerBarContainer\":\"App_headerBarContainer__1EjGg\",\"bodyContainer\":\"App_bodyContainer__3A_kC\",\"footerBarContainer\":\"App_footerBarContainer__neaEC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AlbumListItem_container__22gww\",\"queueButton\":\"AlbumListItem_queueButton__2bWGH ListItem_operationIcon__3SGuX\",\"queuedButton\":\"AlbumListItem_queuedButton__1yXsE ListItem_operationIcon__3SGuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PlaylistListItem_container__1E4I8\",\"queueButton\":\"PlaylistListItem_queueButton__2KYjp ListItem_operationIcon__3SGuX\",\"queuedButton\":\"PlaylistListItem_queuedButton__17OaI ListItem_operationIcon__3SGuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TrackListItem_container__1REr3\",\"queueButton\":\"TrackListItem_queueButton__2XZ7W ListItem_operationIcon__3SGuX\",\"queuedButton\":\"TrackListItem_queuedButton__2L4Uh ListItem_operationIcon__3SGuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LogoutButton_container__1sDNm\",\"exitIcon\":\"LogoutButton_exitIcon__XVdjf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Spinner_container__3Hql7\",\"spinner\":\"Spinner_spinner__j0DNy\",\"spin\":\"Spinner_spin__1jK-3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HeaderBar_container__3RWLn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PlayButton_container__2wtmu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FooterBar_container__1yaA6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"AlbumColumnItem_item__HfS3o ColumnItem_item__hfWEn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ArtistColumnItem_item__3PZ5Y ColumnItem_item__hfWEn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"seperator\":\"ArtistsColumnItem_seperator__2zIqz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ArtistListItem_container__2T-wv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"PlaylistColumnItem_item__3pIYf ColumnItem_item__hfWEn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Lyrics_container__XgMe2\"};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { fetchTokenFromUrl } from \"./utils\";\nimport style from \"./Login.module.css\";\n\nconst GOOGLE_LOGIN_URL = process.env.REACT_APP_LOGIN_GOOGLE_URL;\nconst SPOTIFY_LOGIN_URL = process.env.REACT_APP_LOGIN_SPOTIFY_URL;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._onLoginGoogleButtonClick = this._onLoginGoogleButtonClick.bind(this);\n    this._onLoginSpotifyButtonClick = this._onLoginSpotifyButtonClick.bind(\n      this\n    );\n  }\n\n  componentDidMount() {\n    const { onLoginCallback } = this.props;\n\n    const token = fetchTokenFromUrl() || localStorage.getItem(\"LoginToken\");\n    if (token) {\n      localStorage.setItem(\"LoginToken\", token);\n      onLoginCallback && onLoginCallback(token);\n    }\n  }\n\n  _onLoginGoogleButtonClick() {\n    window.open(GOOGLE_LOGIN_URL, \"_self\");\n  }\n\n  _onLoginSpotifyButtonClick() {\n    window.open(SPOTIFY_LOGIN_URL, \"_self\");\n  }\n\n  render() {\n    return (\n      <div className={style.container}>\n        <h1>GYJUKEBOX</h1>\n        <button\n          onClick={this._onLoginGoogleButtonClick}\n          className={`${style.loginButton} ${style.googleLoginButton}`}\n        >\n          Login with Google\n        </button>\n        <button\n          onClick={this._onLoginSpotifyButtonClick}\n          className={`${style.loginButton} ${style.spotifyLoginButton}`}\n        >\n          Login with Spotify\n        </button>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  onLoginCallback: PropTypes.func\n};\n\nexport default Login;\n","export const fetchTokenFromUrl = () => {\n  const params = new URLSearchParams(window.location.search);\n  return params.get(\"token\") || null;\n};\n\nexport const logout = () => {\n  localStorage.clear();\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ReactComponent as SearchIcon } from \"bootstrap-icons/icons/search.svg\";\nimport style from \"./SearchBar.module.css\";\n\nconst SearchBar = props => {\n  const { onSearchButtonClick } = props;\n\n  const [q, setQ] = React.useState(\"\");\n\n  const _onSearchButtonClick = e => {\n    e.preventDefault();\n\n    onSearchButtonClick && onSearchButtonClick(q);\n  };\n\n  return (\n    <form className={style.container} onSubmit={_onSearchButtonClick}>\n      <input\n        type=\"text\"\n        className={style.searchInput}\n        value={q}\n        onChange={e => setQ(e.target.value)}\n      />\n      <button className={style.searchButton} onClick={_onSearchButtonClick}>\n        <SearchIcon className={style.searchIcon} />\n      </button>\n    </form>\n  );\n};\n\nSearchBar.propTypes = {\n  onSearchButtonClick: PropTypes.func\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./Tabs.module.css\";\n\nconst Tabs = props => {\n  const { activeTab } = props;\n\n  const _getItemClassName = tab => {\n    if (tab === activeTab) {\n      return `${style.item} ${style.active}`;\n    }\n    return style.item;\n  };\n\n  const _onTabChangeButtonClick = tab => {\n    const { onTabChangeButtonClick } = props;\n\n    onTabChangeButtonClick && onTabChangeButtonClick(tab);\n  };\n\n  return (\n    <div className={style.container}>\n      <div\n        className={_getItemClassName(Tab.HOME)}\n        onClick={() => _onTabChangeButtonClick(Tab.HOME)}\n      >\n        HOME\n      </div>\n      <div\n        className={_getItemClassName(Tab.MY_PLAYLISTS)}\n        onClick={() => _onTabChangeButtonClick(Tab.MY_PLAYLISTS)}\n      >\n        MY PLAYLISTS\n      </div>\n      <div\n        className={_getItemClassName(Tab.MY_ALBUMS)}\n        onClick={() => _onTabChangeButtonClick(Tab.MY_ALBUMS)}\n      >\n        MY ALBUMS\n      </div>\n      <div\n        className={_getItemClassName(Tab.MY_ARTISTS)}\n        onClick={() => _onTabChangeButtonClick(Tab.MY_ARTISTS)}\n      >\n        MY ARTISTS\n      </div>\n      <div\n        className={_getItemClassName(Tab.MY_TRACKS)}\n        onClick={() => _onTabChangeButtonClick(Tab.MY_TRACKS)}\n      >\n        MY TRACKS\n      </div>\n      <div\n        className={_getItemClassName(Tab.LYRICS)}\n        onClick={() => _onTabChangeButtonClick(Tab.LYRICS)}\n      >\n        LYRICS\n      </div>\n      {activeTab === Tab.SEARCH ? (\n        <div\n          className={_getItemClassName(Tab.SEARCH)}\n          onClick={() => _onTabChangeButtonClick(Tab.SEARCH)}\n        >\n          SERACH\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nTabs.propTypes = {\n  activeTab: PropTypes.number,\n  onTabChangeButtonClick: PropTypes.func\n};\n\nexport const Tab = {\n  HOME: 1,\n  MY_PLAYLISTS: 2,\n  MY_ALBUMS: 3,\n  MY_ARTISTS: 4,\n  MY_TRACKS: 5,\n  LYRICS: 6,\n  SEARCH: 7\n};\n\nexport default Tabs;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ReactComponent as ExitIcon } from \"bootstrap-icons/icons/power.svg\";\r\nimport style from \"./LogoutButton.module.css\";\r\n\r\nconst LogoutButton = props => {\r\n  const _onLogoutButtonClick = () => {\r\n    const { onLogoutButtonClick } = props;\r\n\r\n    onLogoutButtonClick && onLogoutButtonClick();\r\n  };\r\n\r\n  return (\r\n    <div className={style.container} onClick={_onLogoutButtonClick}>\r\n      <ExitIcon className={style.exitIcon} />\r\n    </div>\r\n  );\r\n};\r\n\r\nLogoutButton.propTypes = {\r\n  onLogoutButtonClick: PropTypes.func\r\n};\r\n\r\nexport default LogoutButton;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SearchBar from \"../SearchBar\";\r\nimport Tabs from \"../Tabs\";\r\nimport LogoutButton from \"../LogoutButton\";\r\nimport style from \"./HeaderBar.module.css\";\r\n\r\nconst HeaderBar = props => {\r\n  const {\r\n    activeTab,\r\n    onSearchButtonClick,\r\n    onTabChangeButtonClick,\r\n    onLogoutButtonClick\r\n  } = props;\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      <SearchBar onSearchButtonClick={onSearchButtonClick} />\r\n      <Tabs\r\n        activeTab={activeTab}\r\n        onTabChangeButtonClick={onTabChangeButtonClick}\r\n      />\r\n      <LogoutButton onLogoutButtonClick={onLogoutButtonClick} />\r\n    </div>\r\n  );\r\n};\r\n\r\nHeaderBar.propTypes = {\r\n  activeTab: PropTypes.number,\r\n  onSearchButtonClick: PropTypes.func,\r\n  onTabChangeButtonClick: PropTypes.func,\r\n  onLogoutButtonClick: PropTypes.func\r\n};\r\n\r\nexport default HeaderBar;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ReactComponent as GearIcon } from \"bootstrap-icons/icons/gear-fill.svg\";\nimport style from \"./SearchList.module.css\";\n\nclass SearchList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._renderAlbums = this._renderAlbums.bind(this);\n    this._renderArtists = this._renderArtists.bind(this);\n    this._renderPlaylists = this._renderPlaylists.bind(this);\n    this._renderTracks = this._renderTracks.bind(this);\n    this._isTrackInQueue = this._isTrackInQueue.bind(this);\n    this._isAlbumInQueue = this._isAlbumInQueue.bind(this);\n    this._isPlaylistInQueue = this._isPlaylistInQueue.bind(this);\n  }\n\n  _renderAlbums() {\n    const {\n      albums,\n      albumComponent: AlbumComponent,\n      onViewAlbumButtonClick,\n      onViewArtistButtonClick,\n      onQueueAlbumButtonClick\n    } = this.props;\n    if (!AlbumComponent || !albums || albums.length === 0) {\n      return null;\n    }\n\n    return (\n      <React.Fragment>\n        <li\n          className={`${style.albumRowContainer} ${style.headerRowContainer}`}\n        >\n          <div className={style.rowHeader}>Album</div>\n          <div className={style.rowHeader}>Artist</div>\n          <div className={style.rowHeader}>\n            <GearIcon />\n          </div>\n        </li>\n        {albums.map(album => (\n          <li\n            className={`${style.removeDefaultListItemStyle} ${style.rowContainer}`}\n          >\n            <AlbumComponent\n              album={album}\n              onViewAlbumButtonClick={onViewAlbumButtonClick}\n              onViewArtistButtonClick={onViewArtistButtonClick}\n              onQueueAlbumButtonClick={onQueueAlbumButtonClick}\n              inQueue={this._isAlbumInQueue(album)}\n            />\n          </li>\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  _renderArtists() {\n    const {\n      artists,\n      artistComponent: ArtistComponent,\n      onViewArtistButtonClick\n    } = this.props;\n    if (!ArtistComponent || !artists || artists.length === 0) {\n      return null;\n    }\n\n    return (\n      <React.Fragment>\n        <li\n          key=\"artistsHeaderRow\"\n          className={`${style.headerRowContainer} ${style.artistRowContainer}`}\n        >\n          <div className={style.rowHeader}>Artist</div>\n        </li>\n        {artists.map(artist => (\n          <li\n            key={artist.uri}\n            className={`${style.removeDefaultListItemStyle} ${style.rowContainer}`}\n          >\n            <ArtistComponent\n              artist={artist}\n              onViewArtistButtonClick={onViewArtistButtonClick}\n            />\n          </li>\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  _renderPlaylists() {\n    const {\n      playlists,\n      playlistComponent: PlaylistComponent,\n      onViewPlaylistButtonClick,\n      onQueuePlaylistButtonClick\n    } = this.props;\n    if (!PlaylistComponent || !playlists || playlists.length === 0) {\n      return null;\n    }\n\n    return (\n      <React.Fragment>\n        <li\n          key=\"playlistsHeaderRow\"\n          className={`${style.headerRowContainer} ${style.playlistRowContainer}`}\n        >\n          <div className={style.rowHeader}>Playlist</div>\n          <div className={style.rowHeader}>Owner</div>\n          <div className={style.rowHeader}>\n            <GearIcon />\n          </div>\n        </li>\n        {playlists.map(playlist => (\n          <li\n            key={playlist.uri}\n            className={`${style.removeDefaultListItemStyle} ${style.rowContainer}`}\n          >\n            <PlaylistComponent\n              playlist={playlist}\n              onViewPlaylistButtonClick={onViewPlaylistButtonClick}\n              onQueuePlaylistButtonClick={onQueuePlaylistButtonClick}\n              inQueue={this._isPlaylistInQueue(playlist)}\n            />\n          </li>\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  _isTrackInQueue(track) {\n    const { inQueueTracks } = this.props;\n    return inQueueTracks.map(track => track.uri).includes(track.uri);\n  }\n\n  _isAlbumInQueue(album) {\n    const { inQueueAlbums } = this.props;\n    return inQueueAlbums.map(album => album.uri).includes(album.uri);\n  }\n\n  _isPlaylistInQueue(playlist) {\n    const { inQueuePlaylists } = this.props;\n    return inQueuePlaylists\n      .map(playlist => playlist.uri)\n      .includes(playlist.uri);\n  }\n\n  _renderTracks() {\n    const {\n      tracks,\n      trackComponent: TrackComponent,\n      onQueueTrackButtonClick,\n      onViewAlbumButtonClick,\n      onViewArtistButtonClick\n    } = this.props;\n    if (!TrackComponent || !tracks || tracks.length === 0) {\n      return null;\n    }\n\n    return (\n      <React.Fragment>\n        <li\n          key=\"tracksHeaderRow\"\n          className={`${style.trackRowContainer} ${style.headerRowContainer}`}\n        >\n          <div className={style.rowHeader}>Track</div>\n          <div className={style.rowHeader}>Artist</div>\n          <div className={style.rowHeader}>Album</div>\n          <div className={style.rowHeader}>\n            <GearIcon />\n          </div>\n        </li>\n        {tracks.map(track => (\n          <li\n            key={track.uri}\n            className={`${style.removeDefaultListItemStyle} ${style.rowContainer}`}\n          >\n            <TrackComponent\n              track={track}\n              inQueue={this._isTrackInQueue(track)}\n              onQueueTrackButtonClick={onQueueTrackButtonClick}\n              onViewAlbumButtonClick={onViewAlbumButtonClick}\n              onViewArtistButtonClick={onViewArtistButtonClick}\n            />\n          </li>\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <ul className={style.removeDefaultListStyle}>{this._renderAlbums()}</ul>\n        <ul className={style.removeDefaultListStyle}>\n          {this._renderArtists()}\n        </ul>\n        <ul className={style.removeDefaultListStyle}>\n          {this._renderPlaylists()}\n        </ul>\n        <ul className={style.removeDefaultListStyle}>{this._renderTracks()}</ul>\n      </React.Fragment>\n    );\n  }\n}\n\nSearchList.propTypes = {\n  albums: PropTypes.array,\n  artists: PropTypes.array,\n  playlists: PropTypes.array,\n  tracks: PropTypes.array,\n  albumComponent: PropTypes.elementType,\n  artistComponent: PropTypes.elementType,\n  playlistComponent: PropTypes.elementType,\n  trackComponent: PropTypes.elementType,\n  inQueueTracks: PropTypes.array,\n  inQueueAlbums: PropTypes.array,\n  inQueuePlaylists: PropTypes.array,\n  onQueueTrackButtonClick: PropTypes.func,\n  onViewAlbumButtonClick: PropTypes.func,\n  onViewArtistButtonClick: PropTypes.func,\n  onViewPlaylistButtonClick: PropTypes.func,\n  onQueueAlbumButtonClick: PropTypes.func,\n  onQueuePlaylistButtonClick: PropTypes.func\n};\n\nSearchList.defaultProps = {\n  inQueueTracks: [],\n  inQueueAlbums: [],\n  inQueuePlaylists: []\n};\n\nexport default SearchList;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ReactComponent as DotIcon } from \"bootstrap-icons/icons/dot.svg\";\r\nimport { ReactComponent as PlayIcon } from \"bootstrap-icons/icons/play-fill.svg\";\r\nimport style from \"./CurrentTrack.module.css\";\r\n\r\nconst CurrentTrack = props => {\r\n  const { track, user } = props;\r\n\r\n  if (!track) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.titleContainer}>\r\n        <span className={style.trackName}>{track.name}</span>\r\n        <DotIcon />\r\n        <span>{track.artists.map(artist => artist.name).join(\", \")}</span>\r\n      </div>\r\n      <div className={style.userContainer}>\r\n        <PlayIcon />\r\n        <span>{user.name}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCurrentTrack.propTypes = {\r\n  track: PropTypes.object,\r\n  user: PropTypes.object\r\n};\r\n\r\nexport default CurrentTrack;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./PlayButton.module.css\";\n\nconst PlayButton = props => {\n  const { onPlayButtonClick } = props;\n\n  return (\n    <div className={style.container} onClick={onPlayButtonClick}>\n      Play\n    </div>\n  );\n};\n\nPlayButton.propTypes = {\n  onPlayButtonClick: PropTypes.func\n};\n\nexport default PlayButton;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport CurrentTrack from \"../CurrentTrack\";\nimport PlayButton from \"../PlayButton\";\nimport style from \"./FooterBar.module.css\";\n\nconst FooterBar = props => {\n  const { displayPlayButton } = props;\n  let { currentTrack } = props;\n\n  currentTrack = currentTrack || {};\n\n  const _onPlayButtonClick = () => {\n    const { onPlayButtonClick } = props;\n\n    onPlayButtonClick && onPlayButtonClick();\n  };\n\n  const _renderPlayButton = () => {\n    if (!displayPlayButton || !currentTrack.track) {\n      return null;\n    }\n    return <PlayButton onPlayButtonClick={_onPlayButtonClick} />;\n  };\n\n  return (\n    <div className={style.container}>\n      <CurrentTrack user={currentTrack.user} track={currentTrack.track} />\n      {_renderPlayButton()}\n    </div>\n  );\n};\n\nFooterBar.propTypes = {\n  currentTrack: PropTypes.object,\n  displayPlayButton: PropTypes.bool,\n  onPlayButtonClick: PropTypes.func\n};\n\nexport default FooterBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./AlbumColumnItem.module.css\";\n\nconst AlbumColumnItem = props => {\n  const { album } = props;\n\n  const _onViewAlbumButtonClick = () => {\n    const { onViewAlbumButtonClick } = props;\n\n    onViewAlbumButtonClick && onViewAlbumButtonClick(album);\n  };\n\n  return (\n    <div>\n      <span className={style.item} onClick={_onViewAlbumButtonClick}>\n        {album.name}\n      </span>\n    </div>\n  );\n};\n\nAlbumColumnItem.propTypes = {\n  album: PropTypes.object.isRequired,\n  onViewAlbumButtonClick: PropTypes.func\n};\n\nexport default AlbumColumnItem;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./ArtistColumnItem.module.css\";\r\n\r\nconst ArtistColumnItem = props => {\r\n  const { artist } = props;\r\n\r\n  const _onViewArtistButtonClick = () => {\r\n    const { onViewArtistButtonClick } = props;\r\n\r\n    onViewArtistButtonClick && onViewArtistButtonClick(artist);\r\n  };\r\n\r\n  return (\r\n    <span className={style.item} onClick={_onViewArtistButtonClick}>\r\n      {artist.name}\r\n    </span>\r\n  );\r\n};\r\n\r\nArtistColumnItem.propTypes = {\r\n  artist: PropTypes.object.isRequired,\r\n  onViewArtistButtonClick: PropTypes.func\r\n};\r\n\r\nexport default ArtistColumnItem;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ArtistColumnItem from \"../ArtistColumnItem\";\nimport style from \"./ArtistsColumnItem.module.css\";\n\nconst ArtistsColumnItem = props => {\n  const { artists } = props;\n\n  const _renderArtists = () => {\n    const { onViewArtistButtonClick } = props;\n\n    const result = artists.reduce((arr, artist, index) => {\n      arr.push(\n        <ArtistColumnItem\n          artist={artist}\n          onViewArtistButtonClick={onViewArtistButtonClick}\n        />\n      );\n      if (index !== artists.length - 1) {\n        arr.push(<span className={style.seperator}>, </span>);\n      }\n      return arr;\n    }, []);\n    return result;\n  };\n\n  return _renderArtists();\n};\n\nArtistsColumnItem.propTypes = {\n  artists: PropTypes.array.isRequired,\n  onViewArtistButtonClick: PropTypes.func\n};\n\nexport default ArtistsColumnItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport AlbumColumnItem from \"../AlbumColumItem\";\nimport ArtistsColumnItem from \"../ArtistsColumnItem\";\nimport { ReactComponent as PlusIcon } from \"bootstrap-icons/icons/plus.svg\";\nimport { ReactComponent as CheckIcon } from \"bootstrap-icons/icons/check.svg\";\nimport style from \"./AlbumListItem.module.css\";\n\nconst AlbumListItem = props => {\n  const { album, onViewAlbumButtonClick, onViewArtistButtonClick } = props;\n\n  const _onQueueAlbumButtonClick = () => {\n    const { onQueueAlbumButtonClick } = props;\n\n    onQueueAlbumButtonClick && onQueueAlbumButtonClick(album);\n  };\n\n  const _renderQueueButton = () => {\n    const { inQueue } = props;\n    if (inQueue) {\n      return <CheckIcon className={style.queuedButton} />;\n    }\n    return (\n      <PlusIcon\n        onClick={_onQueueAlbumButtonClick}\n        className={style.queueButton}\n      />\n    );\n  };\n\n  return (\n    <div className={style.container}>\n      <div>\n        <AlbumColumnItem\n          album={album}\n          onViewAlbumButtonClick={onViewAlbumButtonClick}\n        />\n      </div>\n      <div>\n        <ArtistsColumnItem\n          artists={album.artists}\n          onViewArtistButtonClick={onViewArtistButtonClick}\n        />\n      </div>\n      <div>{_renderQueueButton()}</div>\n    </div>\n  );\n};\n\nAlbumListItem.propTypes = {\n  album: PropTypes.object.isRequired,\n  onViewAlbumButtonClick: PropTypes.func,\n  onViewArtistButtonClick: PropTypes.func,\n  onQueueAlbumButtonClick: PropTypes.func,\n  inQueue: PropTypes.bool\n};\n\nexport default AlbumListItem;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ArtistColumnItem from \"../ArtistColumnItem\";\r\nimport style from \"./ArtistListItem.module.css\";\r\n\r\nconst ArtistListItem = props => {\r\n  const { artist, onViewArtistButtonClick } = props;\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      <div>\r\n        <ArtistColumnItem\r\n          artist={artist}\r\n          onViewArtistButtonClick={onViewArtistButtonClick}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nArtistListItem.propTypes = {\r\n  artist: PropTypes.object.isRequired,\r\n  onViewArtistButtonClick: PropTypes.func\r\n};\r\n\r\nexport default ArtistListItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./PlaylistColumnItem.module.css\";\r\n\r\nconst PlaylistColumnItem = props => {\r\n  const { playlist } = props;\r\n\r\n  const _onViewPlaylistButtonClick = () => {\r\n    const { onViewPlaylistButtonClick } = props;\r\n\r\n    onViewPlaylistButtonClick && onViewPlaylistButtonClick(playlist);\r\n  };\r\n\r\n  return (\r\n    <span className={style.item} onClick={_onViewPlaylistButtonClick}>\r\n      {playlist.name}\r\n    </span>\r\n  );\r\n};\r\n\r\nPlaylistColumnItem.propTypes = {\r\n  playlist: PropTypes.object.isRequired,\r\n  onViewPlaylistButtonClick: PropTypes.func\r\n};\r\n\r\nexport default PlaylistColumnItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport PlaylistColumnItem from \"../PlaylistColumnItem\";\r\nimport { ReactComponent as PlusIcon } from \"bootstrap-icons/icons/plus.svg\";\r\nimport { ReactComponent as CheckIcon } from \"bootstrap-icons/icons/check.svg\";\r\nimport style from \"./PlaylistListItem.module.css\";\r\n\r\nconst PlaylistListItem = props => {\r\n  const { playlist, onViewPlaylistButtonClick } = props;\r\n\r\n  const _onQueuePlaylistButtonClick = () => {\r\n    const { onQueuePlaylistButtonClick } = props;\r\n\r\n    onQueuePlaylistButtonClick && onQueuePlaylistButtonClick(playlist);\r\n  };\r\n\r\n  const _renderQueueButton = () => {\r\n    const { inQueue } = props;\r\n    if (inQueue) {\r\n      return <CheckIcon className={style.queuedButton} />;\r\n    }\r\n    return (\r\n      <PlusIcon\r\n        onClick={_onQueuePlaylistButtonClick}\r\n        className={style.queueButton}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={style.container}>\r\n      <div>\r\n        <PlaylistColumnItem\r\n          playlist={playlist}\r\n          onViewPlaylistButtonClick={onViewPlaylistButtonClick}\r\n        />\r\n      </div>\r\n      <div>{playlist.owner.display_name}</div>\r\n      <div>{_renderQueueButton()}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nPlaylistListItem.propTypes = {\r\n  playlist: PropTypes.object.isRequired,\r\n  onViewPlaylistButtonClick: PropTypes.func,\r\n  onQueuePlaylistButtonClick: PropTypes.func,\r\n  inQueue: PropTypes.bool\r\n};\r\n\r\nexport default PlaylistListItem;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ReactComponent as PlusIcon } from \"bootstrap-icons/icons/plus.svg\";\nimport { ReactComponent as CheckIcon } from \"bootstrap-icons/icons/check.svg\";\nimport AlbumColumnItem from \"../AlbumColumItem\";\nimport ArtistsColumnItem from \"../ArtistsColumnItem\";\nimport style from \"./TrackListItem.module.css\";\n\nconst TrackListItem = props => {\n  const { track, onViewArtistButtonClick } = props;\n\n  const _onQueueTrackButtonClick = () => {\n    const { onQueueTrackButtonClick } = props;\n\n    onQueueTrackButtonClick && onQueueTrackButtonClick(track);\n  };\n\n  const _onViewAlbumButtonClick = () => {\n    const { onViewAlbumButtonClick } = props;\n\n    onViewAlbumButtonClick && onViewAlbumButtonClick(track.album);\n  };\n\n  const _renderQueueButton = () => {\n    const { inQueue } = props;\n    if (inQueue) {\n      return <CheckIcon className={style.queuedButton} />;\n    }\n    return (\n      <PlusIcon\n        onClick={_onQueueTrackButtonClick}\n        className={style.queueButton}\n      />\n    );\n  };\n\n  return (\n    <div className={style.container}>\n      <div>{track.name}</div>\n      <div>\n        <ArtistsColumnItem\n          artists={track.artists}\n          onViewArtistButtonClick={onViewArtistButtonClick}\n        />\n      </div>\n      <div>\n        <AlbumColumnItem\n          album={track.album}\n          onViewAlbumButtonClick={_onViewAlbumButtonClick}\n        />\n      </div>\n      <div>{_renderQueueButton()}</div>\n    </div>\n  );\n};\n\nTrackListItem.propTypes = {\n  track: PropTypes.object.isRequired,\n  inQueue: PropTypes.bool,\n  onQueueTrackButtonClick: PropTypes.func,\n  onViewAlbumButtonClick: PropTypes.func,\n  onViewArtistButtonClick: PropTypes.func\n};\n\nexport default TrackListItem;\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_API_BASE_URL\n});\n\nexport const PAGING_SIZE = 20;\n\nexport const setAuthorizationToken = token =>\n  (instance.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`);\n\nexport const search = async (q, offset = 0) => {\n  const rv = await instance.get(\"/search\", { params: { q, offset } });\n  return rv.data;\n};\n\nexport const enqueueTrack = track =>\n  instance.post(`/track/${track.id}/enqueue`);\n\nexport const enqueueAlbum = album =>\n  instance.post(`/album/${album.id}/enqueue`);\n\nexport const enqueuePlaylist = playlist =>\n  instance.post(`/playlist/${playlist.id}/enqueue`);\n\nexport const getCurrentTrack = async () => {\n  const rv = await instance.get(\"/track/current\");\n  const currentTrack = rv.data;\n  if (!currentTrack) {\n    return {\n      track: null,\n      user: null\n    };\n  }\n  return currentTrack;\n};\n\nexport const getCurrentLyrics = async () => {\n  const rv = await instance.get(\"/lyrics/current\");\n  return rv.data;\n};\n\nexport const getAlbumTracks = async (album, offset = 0) => {\n  const params = { offset };\n  const rv = await instance.get(`/album/${album.id}/tracks`, { params });\n  rv.data.tracks.forEach(track => (track.album = album));\n  return rv.data;\n};\n\nexport const getArtistDetails = async (artist, offset = 0) => {\n  const params = { offset };\n  const rv = await instance.get(`/artist/${artist.id}/details`, { params });\n  return rv.data;\n};\n\nexport const getPlaylistTracks = async (playlist, offset = 0) => {\n  const params = { offset };\n  const rv = await instance.get(`/playlist/${playlist.id}/tracks`, { params });\n  rv.data.tracks = rv.data.tracks.map(playlistTrack => playlistTrack.track);\n  return rv.data;\n};\n\nexport const getUserTop = async (offset = 0) => {\n  const params = { offset };\n  const rv = await instance.get(\"/me/top\", { params });\n  return rv.data;\n};\n\nexport const getUserPlaylists = async (offset = 0) => {\n  const params = { offset };\n  const rv = await instance.get(\"/me/playlists\", { params });\n  return rv.data;\n};\n\nexport const getUserAlbums = async (offset = 0) => {\n  const params = { offset };\n  const rv = await instance.get(\"/me/albums\", { params });\n  rv.data.albums = rv.data.albums.map(userAlbum => userAlbum.album);\n  return rv.data;\n};\n\nexport const getUserArtists = async (after = null) => {\n  const params = { after };\n  const rv = await instance.get(\"/me/artists\", { params });\n  return rv.data;\n};\n\nexport const getUserTracks = async (offset = 0) => {\n  const params = { offset };\n  const rv = await instance.get(\"/me/tracks\", { params });\n  rv.data.tracks = rv.data.tracks.map(userTrack => userTrack.track);\n  return rv.data;\n};\n","import _ from \"lodash\";\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as jukeboxApi from \"../api\";\r\n\r\nclass PollingCurrentTrack extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this._poll = this._poll.bind(this);\r\n\r\n    this._pollingInterval = null;\r\n    this._previousCurrentTrack = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._pollingInterval = setInterval(this._poll, 2000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this._pollingInterval);\r\n    this._pollingInterval = null;\r\n  }\r\n\r\n  async _poll() {\r\n    const currentTrack = await jukeboxApi.getCurrentTrack();\r\n    if (!_.isEqual(this._previousCurrentTrack, currentTrack)) {\r\n      const { onCurrentTrackChange } = this.props;\r\n      onCurrentTrackChange && onCurrentTrackChange(currentTrack);\r\n      this._previousCurrentTrack = currentTrack;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nPollingCurrentTrack.propTypes = {\r\n  onCurrentTrackChange: PropTypes.func\r\n};\r\n\r\nexport default PollingCurrentTrack;\r\n","import _ from \"lodash\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Hls from \"hls.js\";\n\nconst HLS_LOCATION = process.env.REACT_APP_HLS_LOCATION;\n\nclass Player extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this._onMediaAttached = this._onMediaAttached.bind(this);\n    this._onManifestParsed = this._onManifestParsed.bind(this);\n    this._onError = this._onError.bind(this);\n    this._retryLoadResource = _.throttle(\n      this._retryLoadResource.bind(this),\n      2000\n    );\n\n    this._audioRef = React.createRef();\n    this._hls = null;\n    this._mediaParsed = false;\n  }\n\n  componentDidMount() {\n    if (Hls.isSupported()) {\n      this._hls = new Hls();\n      this._hls.attachMedia(this._audioRef.current);\n      this._hls.on(Hls.Events.MEDIA_ATTACHED, this._onMediaAttached);\n    } else {\n      this._audioRef.current.src = HLS_LOCATION;\n      this._audioRef.current.addEventListener(\n        \"loadedmetadata\",\n        this._onManifestParsed\n      );\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { prevPlay } = prevProps;\n    const play = this.props;\n    if (prevPlay !== play) {\n      if (play) {\n        this._audioRef.current.play();\n      } else {\n        this._audioRef.current.pause();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this._hls && this._hls.destroy();\n  }\n\n  _onMediaAttached() {\n    this._hls.loadSource(HLS_LOCATION);\n    this._hls.on(Hls.Events.MANIFEST_PARSED, this._onManifestParsed);\n    this._hls.on(Hls.Events.ERROR, this._onError);\n  }\n\n  _onManifestParsed() {\n    const { onPlayerReady } = this.props;\n\n    this._mediaParsed = true;\n    onPlayerReady && onPlayerReady();\n  }\n\n  _onError(_, data) {\n    if (data.fatal) {\n      console.log(\"encounter fatal error, try to recover\", data);\n      if (this._mediaParsed) {\n        this._hls.startLoad();\n      } else {\n        this._retryLoadResource();\n      }\n    }\n  }\n\n  _retryLoadResource() {\n    this._hls.loadSource(HLS_LOCATION);\n  }\n\n  render() {\n    return <audio ref={this._audioRef}></audio>;\n  }\n}\n\nPlayer.propTypes = {\n  onPlayerReady: PropTypes.func,\n  play: PropTypes.bool\n};\n\nexport default Player;\n","import React from \"react\";\nimport style from \"./Spinner.module.css\";\n\nconst Spinner = () => {\n  return (\n    <div className={style.container}>\n      <span className={style.spinner} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import _ from \"lodash\";\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./Lyrics.module.css\";\r\n\r\nconst Lyrics = props => {\r\n  const { title, artist, lyrics } = props;\r\n  if (_.isEmpty(lyrics)) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={style.container}>\r\n      <h3>{`${title} - ${artist}`}</h3>\r\n      <pre>{lyrics}</pre>\r\n    </div>\r\n  );\r\n};\r\n\r\nLyrics.propTypes = {\r\n  title: PropTypes.string,\r\n  artist: PropTypes.string,\r\n  lyrics: PropTypes.string\r\n};\r\n\r\nexport default Lyrics;\r\n","import React from \"react\";\nimport Login from \"../Login\";\nimport HeaderBar from \"../HeaderBar\";\nimport SearchList from \"../SearchList\";\nimport FooterBar from \"../FooterBar\";\nimport AlbumListItem from \"../AlbumListItem\";\nimport ArtistLiteItem from \"../ArtistListItem\";\nimport PlaylistListItem from \"../PlaylistListItem\";\nimport TrackListItem from \"../TrackListItem\";\nimport PollingCurrentTrack from \"../PollingCurrentTrack\";\nimport Player from \"../Player\";\nimport Spinner from \"../Spinner\";\nimport * as jukeboxApi from \"../api\";\nimport { Tab } from \"../Tabs\";\nimport { logout } from \"../Login/utils\";\nimport style from \"./App.module.css\";\nimport Lyrics from \"../Lyrics\";\n\nconst _PlayerState = {\n  WAIT: 1,\n  READY: 2,\n  PLAY: 3\n};\n\nconst _LoadingState = {\n  LOADING: 1,\n  DONE: 2\n};\n\nclass App extends React.Component {\n  _EMPTY_SEARCH_LIST_DATA = {\n    albums: null,\n    artists: null,\n    playlists: null,\n    tracks: null\n  };\n\n  _INITIAL_STATE = {\n    login: {\n      isLogin: false,\n      token: null\n    },\n    inQueueTracks: [],\n    inQueueAlbums: [],\n    inQueuePlaylists: [],\n    currentTrack: null,\n    currentSearchListData: this._EMPTY_SEARCH_LIST_DATA,\n    playerState: _PlayerState.WAIT,\n    currentLyrics: null,\n    loadingState: _LoadingState.DONE,\n    tab: Tab.HOME\n  };\n\n  constructor(props) {\n    super(props);\n\n    this._wrapLoadingAction = this._wrapLoadingAction.bind(this);\n    this._onPlayButtonClick = this._onPlayButtonClick.bind(this);\n    this._onPlayerReady = this._onPlayerReady.bind(this);\n    this._onPopState = this._onPopState.bind(this);\n    this._pushState = this._pushState.bind(this);\n    this._onCurrentTrackChange = this._onCurrentTrackChange.bind(this);\n    this._onLoginCallback = this._onLoginCallback.bind(this);\n    this._onQueueTrackButtonClick = this._onQueueTrackButtonClick.bind(this);\n    this._onQueueAlbumButtonClick = this._onQueueAlbumButtonClick.bind(this);\n    this._onQueuePlaylistButtonClick = this._onQueuePlaylistButtonClick.bind(\n      this\n    );\n    this._onViewAlbumButtonClick = this._wrapLoadingAction(\n      this._onViewAlbumButtonClick.bind(this)\n    );\n    this._onViewArtistButtonClick = this._wrapLoadingAction(\n      this._onViewArtistButtonClick.bind(this)\n    );\n    this._onViewPlaylistButtonClick = this._wrapLoadingAction(\n      this._onViewPlaylistButtonClick.bind(this)\n    );\n    this._onSearchButtonClick = this._wrapLoadingAction(\n      this._onSearchButtonClick.bind(this)\n    );\n    this._refreshTabContent = this._refreshTabContent.bind(this);\n    this._refreshUserTop = this._wrapLoadingAction(\n      this._refreshUserTop.bind(this)\n    );\n    this._refreshUserPlaylists = this._wrapLoadingAction(\n      this._refreshUserPlaylists.bind(this)\n    );\n    this._refreshUserAlbums = this._wrapLoadingAction(\n      this._refreshUserAlbums.bind(this)\n    );\n    this._refreshUserArtists = this._wrapLoadingAction(\n      this._refreshUserArtists.bind(this)\n    );\n    this._refreshUserTracks = this._wrapLoadingAction(\n      this._refreshUserTracks.bind(this)\n    );\n    this._onTabChangeButtonClick = this._onTabChangeButtonClick.bind(this);\n    this._onLogoutButtonClick = this._onLogoutButtonClick.bind(this);\n    this._logout = this._logout.bind(this);\n    this._commonApiErrorHandle = this._commonApiErrorHandle.bind(this);\n    this._updateCurrentLyrics = this._updateCurrentLyrics.bind(this);\n    this._renderBody = this._renderBody.bind(this);\n\n    this.state = this._INITIAL_STATE;\n\n    window.onpopstate = this._onPopState;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { tab: prevTab } = prevState;\n    const { tab } = this.state;\n    if (prevTab !== tab) {\n      this._refreshTabContent();\n    }\n  }\n\n  _wrapLoadingAction(action) {\n    const wrapper = async (...args) => {\n      this.setState({\n        loadingState: _LoadingState.LOADING\n      });\n      try {\n        await action(...args);\n      } finally {\n        this.setState({\n          loadingState: _LoadingState.DONE\n        });\n      }\n    };\n\n    return wrapper;\n  }\n\n  _onPlayButtonClick() {\n    const { playerState } = this.state;\n    if (playerState !== _PlayerState.READY) {\n      return;\n    }\n    this.setState({\n      playerState: _PlayerState.PLAY\n    });\n  }\n\n  _onPlayerReady() {\n    const { playerState } = this.state;\n    if (playerState !== _PlayerState.WAIT) {\n      return;\n    }\n    this.setState({\n      playerState: _PlayerState.READY\n    });\n  }\n\n  _onPopState(event) {\n    if (event.state === \"logged_out\") {\n      // don't let user read history if has already logged out\n      window.history.pushState(\"logged_out\", null, \"/\");\n    } else {\n      this.setState(event.state);\n    }\n  }\n\n  _pushState() {\n    const { currentSearchListData, tab } = this.state;\n    window.history.pushState({ currentSearchListData, tab }, null, \"/\");\n  }\n\n  _onCurrentTrackChange(currentTrack) {\n    this.setState({\n      currentTrack\n    });\n    this._updateCurrentLyrics();\n  }\n\n  _onLoginCallback(token) {\n    this.setState(\n      {\n        login: {\n          isLogin: true,\n          token\n        }\n      },\n      () => {\n        jukeboxApi.setAuthorizationToken(token);\n        window.history.replaceState(this._EMPTY_SEARCH_LIST_DATA, null, \"/\");\n        this._refreshTabContent();\n      }\n    );\n  }\n\n  async _onQueueTrackButtonClick(track) {\n    try {\n      await jukeboxApi.enqueueTrack(track);\n      this.setState(state => ({\n        inQueueTracks: [...state.inQueueTracks, track]\n      }));\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _onQueueAlbumButtonClick(album) {\n    try {\n      await jukeboxApi.enqueueAlbum(album);\n      this.setState(state => ({\n        inQueueAlbums: [...state.inQueueAlbums, album]\n      }));\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _onQueuePlaylistButtonClick(playlist) {\n    try {\n      await jukeboxApi.enqueuePlaylist(playlist);\n      this.setState(state => ({\n        inQueuePlaylists: [...state.inQueuePlaylists, playlist]\n      }));\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _onViewAlbumButtonClick(album) {\n    try {\n      const { tracks } = await jukeboxApi.getAlbumTracks(album);\n      this.setState(\n        {\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            tracks\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _onViewArtistButtonClick(artist) {\n    try {\n      const { tracks, albums } = await jukeboxApi.getArtistDetails(artist);\n      this.setState(\n        {\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            tracks,\n            albums\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _onViewPlaylistButtonClick(playlist) {\n    try {\n      const { tracks } = await jukeboxApi.getPlaylistTracks(playlist);\n      this.setState(\n        {\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            tracks\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _onSearchButtonClick(q) {\n    try {\n      const { albums, artists, tracks, playlists } = await jukeboxApi.search(q);\n      this.setState(\n        {\n          tab: Tab.SEARCH,\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            albums,\n            artists,\n            playlists,\n            tracks\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _updateCurrentLyrics() {\n    const currentLyrics = await jukeboxApi.getCurrentLyrics();\n    this.setState({\n      currentLyrics\n    });\n  }\n\n  _refreshTabContent() {\n    const { tab } = this.state;\n    switch (tab) {\n      case Tab.HOME:\n        this._refreshUserTop();\n        break;\n      case Tab.MY_PLAYLISTS:\n        this._refreshUserPlaylists();\n        break;\n      case Tab.MY_ALBUMS:\n        this._refreshUserAlbums();\n        break;\n      case Tab.MY_ARTISTS:\n        this._refreshUserArtists();\n        break;\n      case Tab.MY_TRACKS:\n        this._refreshUserTracks();\n        break;\n      default:\n        break;\n    }\n  }\n\n  async _refreshUserTop() {\n    try {\n      const { artists, tracks } = await jukeboxApi.getUserTop();\n      this.setState(\n        {\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            artists,\n            tracks\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _refreshUserPlaylists() {\n    try {\n      const { playlists } = await jukeboxApi.getUserPlaylists();\n      this.setState(\n        {\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            playlists\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _refreshUserAlbums() {\n    try {\n      const { albums } = await jukeboxApi.getUserAlbums();\n      this.setState(\n        {\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            albums\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _refreshUserArtists() {\n    try {\n      const { artists } = await jukeboxApi.getUserArtists();\n      this.setState(\n        {\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            artists\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  async _refreshUserTracks() {\n    try {\n      const { tracks } = await jukeboxApi.getUserTracks();\n      this.setState(\n        {\n          currentSearchListData: {\n            ...this._EMPTY_SEARCH_LIST_DATA,\n            tracks\n          }\n        },\n        this._pushState\n      );\n    } catch (err) {\n      this._commonApiErrorHandle(err);\n    }\n  }\n\n  _onTabChangeButtonClick(tab) {\n    this.setState({\n      tab\n    });\n  }\n\n  _logout() {\n    logout();\n    this.setState(this._INITIAL_STATE);\n    window.history.pushState(\"logged_out\", null, \"/\");\n  }\n\n  _onLogoutButtonClick() {\n    this._logout();\n  }\n\n  _commonApiErrorHandle(err) {\n    // TODO show notification\n    this._logout();\n  }\n\n  _renderBody() {\n    const { tab } = this.state;\n    if (tab === Tab.LYRICS) {\n      const { currentLyrics } = this.state;\n      if (!currentLyrics) {\n        return null;\n      }\n      return <Lyrics {...currentLyrics} />;\n    }\n\n    const {\n      inQueueTracks,\n      inQueueAlbums,\n      inQueuePlaylists,\n      currentSearchListData,\n      loadingState\n    } = this.state;\n\n    if (loadingState === _LoadingState.LOADING) {\n      return <Spinner />;\n    }\n\n    return (\n      <SearchList\n        {...currentSearchListData}\n        inQueueTracks={inQueueTracks}\n        inQueueAlbums={inQueueAlbums}\n        inQueuePlaylists={inQueuePlaylists}\n        albumComponent={AlbumListItem}\n        artistComponent={ArtistLiteItem}\n        playlistComponent={PlaylistListItem}\n        trackComponent={TrackListItem}\n        onQueueTrackButtonClick={this._onQueueTrackButtonClick}\n        onQueueAlbumButtonClick={this._onQueueAlbumButtonClick}\n        onQueuePlaylistButtonClick={this._onQueuePlaylistButtonClick}\n        onViewAlbumButtonClick={this._onViewAlbumButtonClick}\n        onViewArtistButtonClick={this._onViewArtistButtonClick}\n        onViewPlaylistButtonClick={this._onViewPlaylistButtonClick}\n      />\n    );\n  }\n\n  render() {\n    const { login } = this.state;\n    if (!login.isLogin) {\n      return <Login onLoginCallback={this._onLoginCallback} />;\n    }\n\n    const { tab, currentTrack, playerState } = this.state;\n    return (\n      <div className={style.container}>\n        <div className={style.headerBarContainer}>\n          <HeaderBar\n            activeTab={tab}\n            onSearchButtonClick={this._onSearchButtonClick}\n            onTabChangeButtonClick={this._onTabChangeButtonClick}\n            onLogoutButtonClick={this._onLogoutButtonClick}\n          />\n        </div>\n        <div className={style.bodyContainer}>{this._renderBody()}</div>\n        <div className={style.footerBarContainer}>\n          <FooterBar\n            currentTrack={currentTrack}\n            displayPlayButton={playerState === _PlayerState.READY}\n            onPlayButtonClick={this._onPlayButtonClick}\n          />\n        </div>\n        <PollingCurrentTrack\n          onCurrentTrackChange={this._onCurrentTrackChange}\n        />\n        <Player\n          onPlayerReady={this._onPlayerReady}\n          play={playerState === _PlayerState.PLAY}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}